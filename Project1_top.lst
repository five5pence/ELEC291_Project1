                  2   $LIST
0000              4   ;  N76E003 pinout:
0000              5   ;                               -------
0000              6   ;       PWM2/IC6/T0/AIN4/P0.5 -|1    20|- P0.4/AIN5/STADC/PWM3/IC3
0000              7   ;               TXD/AIN3/P0.6 -|2    19|- P0.3/PWM5/IC5/AIN6
0000              8   ;               RXD/AIN2/P0.7 -|3    18|- P0.2/ICPCK/OCDCK/RXD_1/[SCL]
0000              9   ;                    RST/P2.0 -|4    17|- P0.1/PWM4/IC4/MISO
0000             10   ;        INT0/OSCIN/AIN1/P3.0 -|5    16|- P0.0/PWM3/IC3/MOSI/T1
0000             11   ;              INT1/AIN0/P1.7 -|6    15|- P1.0/PWM2/IC2/SPCLK
0000             12   ;                         GND -|7    14|- P1.1/PWM1/IC1/AIN7/CLO
0000             13   ;[SDA]/TXD_1/ICPDA/OCDDA/P1.6 -|8    13|- P1.2/PWM0/IC0
0000             14   ;                         VDD -|9    12|- P1.3/SCL/[STADC]
0000             15   ;            PWM5/IC7/SS/P1.5 -|10   11|- P1.4/SDA/FB/PWM1
0000             16   ;                               -------
0000             17   ;
0000             18   ;  N76E003 pinout:
0000             19   ;                               ----
0000             20   ;                 (FREE) P0.5 -|1    20|- P0.4 (FREE)
0000             21   ;      Serial to COM TXD/P0.6 -|2    19|- P0.3 LCD.3
0000             22   ;      Serial to COM RXD/P0.7 -|3    18|- P0.2 LCD.2
0000             23   ;                    RST P2.0 -|4    17|- P0.1 LCD.1
0000             24   ;            LM335 INPUT P3.0 -|5    16|- P0.0 LCD.0
0000             25   ;       PUSHBUTTONS AIN0/P1.7 -|6    15|- P1.0 (FREE)
0000             26   ;                         GND -|7    14|- P1.1 THERMOCOUPLE INPUT
0000             27   ;         SPEAKER OUTPUT P1.6 -|8    13|- P1.2 OVEN CONTROL PIN
0000             28   ;                         VDD -|9    12|- P1.3 LCD RS
0000             29   ;                 (FREE) P1.5 -|10   11|- P1.4 LCD E
0000             30   ;                               -------
0000             31   ;
0000             32   ORG 0x0000
0000 02034B      33       ljmp main
0003             34   
0003             35   ; Initialization Messages
0003 546F3D20    36   temperature_message:     db 'To=   C  Tj=   C', 0
     20204320
     20546A3D
     20202043
     00
0014             37   cseg
0014             38   
0014             39   ; SYMBOLIC CONSTANTS
0014             40   
0014             41   ; INPUTS
0014             42   tempsensor_in equ P3.0
0014             43   thermocouple_in equ P1.1
0014             44   
0014             45   ; OUTPUTS
0014             46   oven_out equ P1.2
0014             47   speaker_out equ P1.6
0014             48   
0014             49   ; LCD
0014             50   LCD_RS equ P1.3
0014             51   LCD_E equ P1.4
0014             52   LCD_D4 equ P0.0
0014             53   LCD_D5 equ P0.1
0014             54   LCD_D6 equ P0.2
0014             55   LCD_D7 equ P0.3
0014             56   
                 58   	$LIST
00C8             60   
00C8             61   ; These register definitions needed by 'math32.inc'
0030             62   DSEG at 30H
0030             63   x:   ds 4
0034             64   y:   ds 4
0038             65   bcd: ds 5
003D             66   
0000             67   BSEG
0000             68   mf: dbit 1
0001             69   
                546   $LIST
                 71   $LIST
0338             73   
0338             74   
0338             75   
0338             76   ; INITIALIZATION SUBROUTINES
0338             77   Init_All:
0338             78            ; Configure all the pins for biderectional I/O
0338 75AC00      79            mov     P3M1, #0x00
033B 75AD00      80            mov     P3M2, #0x00
033E 75B300      81            mov     P1M1, #0x00
0341 75B400      82            mov     P1M2, #0x00
0344 75B100      83            mov     P0M1, #0x00
0347 75B200      84            mov     P0M2, #0x00
034A             85   
034A 22          86       ret
034B             87   
034B             88   ; MAIN 
034B             89   main:
034B 75817F      90            mov sp, #0x7f
034E 120338      91       lcall Init_All
0351 12006D      92       lcall LCD_4BIT
0354             93       ; initial messages in LCD
0354 C0E0        94            push acc
0356 7401        94            mov a, #1
0358 14          94            dec a
0359 1200AD      94            lcall ?Set_Cursor_1 ; Select column and row
035C D0E0        94            pop acc
035E C083        95            push dph
0360 C082        95            push dpl
0362 C0E0        95            push acc
0364 900003      95            mov dptr, #temperature_message
0367 1200A0      95            lcall ?Send_Constant_String
036A D0E0        95            pop acc
036C D082        95            pop dpl
036E D083        95            pop dph
0370             96   
0370             97   EN
